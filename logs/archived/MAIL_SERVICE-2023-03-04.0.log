2023-03-04 10:22:14,357 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 3131 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 10:22:14,360 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 10:22:15,063 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=9f1fab4f-2364-32bc-ad42-4676517b3731
2023-03-04 10:22:15,226 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 10:22:15,230 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 10:22:15,231 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 10:22:15,231 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 10:22:15,279 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 10:22:15,279 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 892 ms
2023-03-04 10:22:15,922 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 1 endpoint(s) beneath base path '/actuator'
2023-03-04 10:22:15,953 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 10:22:15,967 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 10:22:15,989 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 1.782 seconds (JVM running for 2.091)
2023-03-04 10:22:16,207 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 10:22:16,207 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 10:22:16,208 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:13:28,042 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 14287 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:13:28,045 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:13:28,411 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=6e017a5b-23ed-38c0-91c3-f736cb0b229c
2023-03-04 15:13:28,528 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:13:28,533 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:13:28,533 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:13:28,534 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:13:28,574 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:13:28,574 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 512 ms
2023-03-04 15:13:28,630 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailQueueConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
2023-03-04 15:13:28,632 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2023-03-04 15:13:28,641 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-04 15:13:28,649 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailQueueConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at tech.hdurmaz.mailservice.MailServiceApplication.main(MailServiceApplication.java:17)
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 17 common frames omitted
2023-03-04 15:15:03,027 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Unable to load config data from 'optional:configserver:http://localhost:8088'
	at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:141)
	at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:126)
	at org.springframework.boot.context.config.StandardConfigDataLocationResolver.resolve(StandardConfigDataLocationResolver.java:119)
	at org.springframework.boot.context.config.ConfigDataLocationResolvers.lambda$resolve$1(ConfigDataLocationResolvers.java:115)
	at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:126)
	at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:115)
	at org.springframework.boot.context.config.ConfigDataLocationResolvers.resolve(ConfigDataLocationResolvers.java:107)
	at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:105)
	at org.springframework.boot.context.config.ConfigDataImporter.resolve(ConfigDataImporter.java:97)
	at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:85)
	at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)
	at org.springframework.boot.context.config.ConfigDataEnvironment.processInitial(ConfigDataEnvironment.java:240)
	at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:227)
	at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)
	at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)
	at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)
	at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at tech.hdurmaz.mailservice.MailServiceApplication.main(MailServiceApplication.java:17)
Caused by: java.lang.IllegalStateException: File extension is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in '/' or File.separator
	at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferencesForFile(StandardConfigDataLocationResolver.java:229)
	at org.springframework.boot.context.config.StandardConfigDataLocationResolver.getReferences(StandardConfigDataLocationResolver.java:138)
	... 31 common frames omitted
2023-03-04 15:15:46,820 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 14558 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:15:46,824 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:15:46,849 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:15:46,850 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-server, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:15:47,181 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=fb609ff1-acbe-32aa-9562-a89aa205a5a9
2023-03-04 15:15:47,287 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-03-04 15:15:47,291 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-03-04 15:15:47,291 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:15:47,291 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:15:47,334 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:15:47,334 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 481 ms
2023-03-04 15:15:47,386 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailQueueConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
2023-03-04 15:15:47,388 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2023-03-04 15:15:47,398 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-04 15:15:47,405 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailQueueConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at tech.hdurmaz.mailservice.MailServiceApplication.main(MailServiceApplication.java:17)
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 17 common frames omitted
2023-03-04 15:16:37,122 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 14653 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:16:37,125 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:16:37,137 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:16:37,138 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-server, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:16:37,512 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=fb609ff1-acbe-32aa-9562-a89aa205a5a9
2023-03-04 15:16:37,618 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-03-04 15:16:37,622 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-03-04 15:16:37,622 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:16:37,623 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:16:37,662 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:16:37,663 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 524 ms
2023-03-04 15:16:37,712 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailQueueConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
2023-03-04 15:16:37,714 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2023-03-04 15:16:37,724 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-04 15:16:37,732 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailQueueConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at tech.hdurmaz.mailservice.MailServiceApplication.main(MailServiceApplication.java:17)
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 17 common frames omitted
2023-03-04 15:17:45,101 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 14946 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:17:45,103 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:17:45,116 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:17:45,117 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-server, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:17:45,462 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=fb609ff1-acbe-32aa-9562-a89aa205a5a9
2023-03-04 15:17:45,563 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2023-03-04 15:17:45,567 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-03-04 15:17:45,567 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:17:45,567 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:17:45,611 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:17:45,611 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 494 ms
2023-03-04 15:17:45,667 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailQueueConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
2023-03-04 15:17:45,669 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2023-03-04 15:17:45,679 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-04 15:17:45,688 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailQueueConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at tech.hdurmaz.mailservice.MailServiceApplication.main(MailServiceApplication.java:17)
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.exchanges.internal' in value "${rabbitmq.exchanges.internal}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 17 common frames omitted
2023-03-04 15:20:10,376 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 15655 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:20:10,379 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:20:10,392 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:20:10,393 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:20:10,803 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=6657f67c-cf3e-36f3-a874-4495c6edb1b2
2023-03-04 15:20:10,912 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:20:10,916 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:20:10,916 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:20:10,916 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:20:10,961 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:20:10,962 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 568 ms
2023-03-04 15:20:11,466 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 16 endpoint(s) beneath base path '/actuator'
2023-03-04 15:20:11,509 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:20:11,514 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:20:11,516 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:20:11,551 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#2d74cbbd:0/SimpleConnection@55e5415d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54072]
2023-03-04 15:20:11,598 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 2.691 seconds (JVM running for 3.178)
2023-03-04 15:20:11,669 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(1)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:20:11,670 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:20:11,671 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:21:59,184 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:21:59,985 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:22:00,003 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:22:02,592 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 16003 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:22:02,595 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:22:02,608 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:22:02,608 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:22:02,946 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=6657f67c-cf3e-36f3-a874-4495c6edb1b2
2023-03-04 15:22:03,056 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:22:03,059 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:22:03,060 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:22:03,060 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:22:03,106 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:22:03,106 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 497 ms
2023-03-04 15:22:03,660 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 16 endpoint(s) beneath base path '/actuator'
2023-03-04 15:22:03,708 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:22:03,713 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:22:03,716 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:22:03,756 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#2d74cbbd:0/SimpleConnection@55e5415d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54124]
2023-03-04 15:22:03,794 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 2.737 seconds (JVM running for 3.052)
2023-03-04 15:22:04,149 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:22:04,150 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:22:04,151 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:22:37,739 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:22:37,919 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:22:37,933 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:22:41,112 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 16152 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:22:41,115 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:22:41,129 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:22:41,130 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:22:41,518 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=6657f67c-cf3e-36f3-a874-4495c6edb1b2
2023-03-04 15:22:41,634 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:22:41,638 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:22:41,638 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:22:41,638 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:22:41,683 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:22:41,684 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 553 ms
2023-03-04 15:22:42,245 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 16 endpoint(s) beneath base path '/actuator'
2023-03-04 15:22:42,309 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:22:42,315 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:22:42,318 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:22:42,345 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#2aa6bbad:0/SimpleConnection@575d48db [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54152]
2023-03-04 15:22:42,379 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 2.739 seconds (JVM running for 3.512)
2023-03-04 15:22:42,616 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:22:42,617 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:22:42,618 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:26:01,699 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:26:02,066 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:26:02,075 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:26:06,094 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 16740 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:26:06,097 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:26:06,114 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:26:06,114 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:26:06,509 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 15:26:06,628 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:26:06,632 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:26:06,632 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:26:06,632 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:26:06,684 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:26:06,685 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 570 ms
2023-03-04 15:26:07,342 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 15:26:07,368 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 15:26:07,376 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 15:26:07,430 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 15:26:07,447 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 15:26:07,449 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 15:26:07,459 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 15:26:07,459 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 15:26:07,460 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 15:26:07,460 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 15:26:07,460 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 15:26:07,460 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 15:26:07,461 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 15:26:07,531 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 15:26:07,533 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 15:26:07,534 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 15:26:07,536 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677932767535 with initial instances count: 4
2023-03-04 15:26:07,536 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 15:26:07,537 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677932767537, current=UP, previous=STARTING]
2023-03-04 15:26:07,537 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:26:07,538 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:26:07,548 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:26:07,549 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 15:26:07,552 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:26:07,560 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:26:07,579 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#10bdfbcc:0/SimpleConnection@70b630d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54277]
2023-03-04 15:26:07,612 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 2.984 seconds (JVM running for 3.49)
2023-03-04 15:26:07,749 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:26:07,750 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:26:07,751 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:29:45,750 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed MailRegistrationNotificationRequest[toList=null, multipartFile=null] from queue.
2023-03-04 15:29:46,114 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:30:39,661 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed MailRegistrationNotificationRequest[toList=null, multipartFile=null] from queue.
2023-03-04 15:30:53,520 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:31:07,472 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-04 15:31:13,386 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 15:31:13,386 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677933073386, current=DOWN, previous=UP]
2023-03-04 15:31:13,387 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:31:13,393 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:31:13,406 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:31:13,609 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:31:13,624 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:31:13,645 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 15:31:16,654 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-04 15:31:16,664 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-04 15:31:16,670 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-04 15:31:19,432 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 17909 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:31:19,435 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:31:19,455 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:31:19,455 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:31:19,896 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 15:31:20,021 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:31:20,027 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:31:20,028 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:31:20,028 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:31:20,085 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:31:20,085 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 629 ms
2023-03-04 15:31:20,709 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 15:31:20,734 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 15:31:20,741 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 15:31:20,794 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 15:31:20,810 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 15:31:20,812 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 15:31:20,822 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 15:31:20,822 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 15:31:20,823 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 15:31:20,823 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 15:31:20,823 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 15:31:20,823 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 15:31:20,823 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 15:31:20,885 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 15:31:20,886 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 15:31:20,887 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 15:31:20,889 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677933080889 with initial instances count: 5
2023-03-04 15:31:20,890 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 15:31:20,890 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677933080890, current=UP, previous=STARTING]
2023-03-04 15:31:20,891 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:31:20,891 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:31:20,899 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:31:20,900 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 15:31:20,911 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:31:20,911 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:31:20,934 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#770cae59:0/SimpleConnection@602b7944 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54418]
2023-03-04 15:31:20,970 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.155 seconds (JVM running for 3.575)
2023-03-04 15:31:21,379 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:31:21,380 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:31:21,382 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 2 ms
2023-03-04 15:31:36,500 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed MailRegistrationNotificationRequest[toList=null, multipartFile=null] from queue.
2023-03-04 15:31:36,975 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:32:00,267 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed MailRegistrationNotificationRequest[toList=null, multipartFile=null] from queue.
2023-03-04 15:32:29,061 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:33:08,514 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed MailRegistrationNotificationRequest[toList=null, multipartFile=null] from queue.
2023-03-04 15:33:09,550 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:35:18,550 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed MailRegistrationNotificationRequest[toList=null, multipartFile=null] from queue.
2023-03-04 15:35:19,061 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:36:20,834 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-04 15:41:20,801 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-04 15:45:08,069 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 15:45:08,071 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677933908071, current=DOWN, previous=UP]
2023-03-04 15:45:08,071 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:45:08,091 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:45:08,096 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:45:09,056 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:45:09,080 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:45:09,091 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 15:45:12,099 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-04 15:45:12,106 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-04 15:45:12,110 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-04 15:45:16,215 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 20064 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:45:16,217 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:45:16,232 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:45:16,232 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:45:16,598 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 15:45:16,707 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:45:16,711 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:45:16,712 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:45:16,712 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:45:16,757 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:45:16,757 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 524 ms
2023-03-04 15:45:17,330 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 15:45:17,353 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 15:45:17,359 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 15:45:17,405 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 15:45:17,419 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 15:45:17,421 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 15:45:17,429 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 15:45:17,429 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 15:45:17,430 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 15:45:17,430 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 15:45:17,430 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 15:45:17,430 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 15:45:17,430 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 15:45:17,489 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 15:45:17,490 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 15:45:17,491 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 15:45:17,492 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677933917492 with initial instances count: 5
2023-03-04 15:45:17,493 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 15:45:17,493 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677933917493, current=UP, previous=STARTING]
2023-03-04 15:45:17,494 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:45:17,494 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:45:17,500 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:45:17,501 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 15:45:17,502 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:45:17,509 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:45:17,527 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#74ce7fdf:0/SimpleConnection@483fe83a [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54703]
2023-03-04 15:45:17,561 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 2.83 seconds (JVM running for 3.31)
2023-03-04 15:45:17,641 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:45:17,642 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:45:17,643 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:45:20,226 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 15:45:20,226 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677933920226, current=DOWN, previous=UP]
2023-03-04 15:45:20,226 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:45:20,230 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:45:20,231 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:45:20,552 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:45:20,559 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:45:20,565 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 15:45:23,569 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-04 15:45:23,581 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-04 15:45:23,586 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-04 15:45:26,443 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 20096 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:45:26,447 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:45:26,465 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:45:26,466 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:45:26,865 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 15:45:26,995 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:45:26,999 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:45:27,000 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:45:27,000 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:45:27,056 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:45:27,056 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 589 ms
2023-03-04 15:45:27,745 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 15:45:27,773 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 15:45:27,780 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 15:45:27,838 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 15:45:27,855 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 15:45:27,857 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 15:45:27,868 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 15:45:27,868 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 15:45:27,869 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 15:45:27,869 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 15:45:27,869 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 15:45:27,869 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 15:45:27,870 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 15:45:27,936 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 15:45:27,938 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 15:45:27,939 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 15:45:27,941 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677933927941 with initial instances count: 5
2023-03-04 15:45:27,942 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 15:45:27,942 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677933927942, current=UP, previous=STARTING]
2023-03-04 15:45:27,942 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:45:27,943 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:45:27,952 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:45:27,953 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 15:45:27,955 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:45:27,962 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:45:27,976 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#10bdfbcc:0/SimpleConnection@70b630d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54720]
2023-03-04 15:45:28,007 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.128 seconds (JVM running for 3.584)
2023-03-04 15:45:28,210 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:45:28,211 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:45:28,212 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:46:41,134 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=null] from queue.
2023-03-04 15:46:41,155 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:47:09,090 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=null] from queue.
2023-03-04 15:47:09,098 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:47:35,163 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 15:47:35,165 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677934055165, current=DOWN, previous=UP]
2023-03-04 15:47:35,165 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:47:35,187 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:47:35,193 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:47:35,195 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:47:35,205 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:47:35,221 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 15:47:38,228 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-04 15:47:38,232 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-04 15:47:38,237 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-04 15:47:41,158 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 20342 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:47:41,161 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:47:41,179 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:47:41,179 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:47:41,578 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 15:47:41,702 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:47:41,706 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:47:41,707 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:47:41,707 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:47:41,762 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:47:41,762 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 582 ms
2023-03-04 15:47:42,418 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 15:47:42,443 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 15:47:42,450 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 15:47:42,501 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 15:47:42,516 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 15:47:42,518 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 15:47:42,527 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 15:47:42,527 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 15:47:42,527 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 15:47:42,527 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 15:47:42,527 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 15:47:42,527 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 15:47:42,528 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 15:47:42,591 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 15:47:42,592 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 15:47:42,593 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 15:47:42,595 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677934062595 with initial instances count: 5
2023-03-04 15:47:42,596 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 15:47:42,596 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677934062596, current=UP, previous=STARTING]
2023-03-04 15:47:42,597 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:47:42,597 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:47:42,603 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:47:42,603 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 15:47:42,605 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:47:42,613 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:47:42,627 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#4bdb04c8:0/SimpleConnection@55821edf [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54787]
2023-03-04 15:47:42,663 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.012 seconds (JVM running for 3.51)
2023-03-04 15:47:43,146 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:47:43,146 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:47:43,152 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:48:47,202 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=null] from queue.
2023-03-04 15:48:47,222 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:51:17,058 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=null] from queue.
2023-03-04 15:51:17,065 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:52:14,713 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=null] from queue.
2023-03-04 15:52:14,719 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:52:42,537 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-04 15:54:12,954 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=null] from queue.
2023-03-04 15:54:12,959 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: Cannot invoke "String.length()" because "s" is null
2023-03-04 15:54:23,045 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 15:54:23,045 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677934463045, current=DOWN, previous=UP]
2023-03-04 15:54:23,046 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:54:23,050 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:54:23,052 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:54:24,009 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:54:24,028 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:54:24,039 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 15:54:27,046 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-04 15:54:27,055 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-04 15:54:27,058 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-04 15:54:36,572 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 21121 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:54:36,575 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:54:36,594 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:54:36,595 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=61a1e61983dadc69b574dbb975e3aeffbd62a78b, state=null
2023-03-04 15:54:37,013 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 15:54:37,151 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:54:37,156 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:54:37,156 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:54:37,157 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:54:37,228 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:54:37,228 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 632 ms
2023-03-04 15:54:38,320 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 15:54:38,356 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 15:54:38,363 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 15:54:38,423 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 15:54:38,440 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 15:54:38,443 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 15:54:38,454 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 15:54:38,454 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 15:54:38,454 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 15:54:38,454 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 15:54:38,455 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 15:54:38,455 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 15:54:38,455 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 15:54:38,526 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 15:54:38,528 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 15:54:38,529 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 15:54:38,532 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677934478531 with initial instances count: 3
2023-03-04 15:54:38,533 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 15:54:38,533 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677934478533, current=UP, previous=STARTING]
2023-03-04 15:54:38,534 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:54:38,535 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:54:38,542 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:54:38,543 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 15:54:38,545 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:54:38,566 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:54:38,584 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#4bdb04c8:0/SimpleConnection@55821edf [delegate=amqp://guest@127.0.0.1:5672/, localPort= 55012]
2023-03-04 15:54:38,625 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.449 seconds (JVM running for 3.808)
2023-03-04 15:54:39,141 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:54:39,142 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:54:39,143 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:55:33,702 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=hdurmaz@hdurmaz.com] from queue.
2023-03-04 15:55:40,403 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: 535-5.7.8 Username and Password not accepted. Learn more at
535 5.7.8  https://support.google.com/mail/?p=BadCredentials c2-20020a5d63c2000000b002c8ed82c56csm4976997wrw.116 - gsmtp

2023-03-04 15:57:16,727 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 15:57:16,730 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677934636730, current=DOWN, previous=UP]
2023-03-04 15:57:16,732 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:57:16,749 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:57:16,750 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:57:17,306 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:57:17,332 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:57:17,344 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 15:57:23,149 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 21452 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:57:23,152 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:57:23,174 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:57:23,174 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ac06ff6c32816c8048e335beead97e7f1901ed0c, state=null
2023-03-04 15:57:23,710 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 15:57:23,838 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:57:23,842 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:57:23,843 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:57:23,843 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:57:23,890 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:57:23,890 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 715 ms
2023-03-04 15:57:24,536 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 15:57:24,564 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 15:57:24,570 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 15:57:24,621 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 15:57:24,637 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 15:57:24,640 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 15:57:24,650 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 15:57:24,650 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 15:57:24,650 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 15:57:24,651 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 15:57:24,651 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 15:57:24,651 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 15:57:24,651 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 15:57:24,716 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 15:57:24,717 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 15:57:24,718 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 15:57:24,720 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677934644720 with initial instances count: 5
2023-03-04 15:57:24,720 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 15:57:24,721 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677934644721, current=UP, previous=STARTING]
2023-03-04 15:57:24,721 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:57:24,722 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:57:24,728 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:57:24,728 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 15:57:24,730 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:57:24,737 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:57:24,750 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#601f264d:0/SimpleConnection@32c08610 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 55164]
2023-03-04 15:57:24,785 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.804 seconds (JVM running for 4.257)
2023-03-04 15:57:25,096 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:57:25,097 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:57:25,098 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 15:58:09,572 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-04 15:58:23,859 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: IOException while sending message
2023-03-04 15:58:54,563 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 15:58:54,564 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677934734564, current=DOWN, previous=UP]
2023-03-04 15:58:54,565 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:58:54,608 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:58:54,609 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 15:58:54,993 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 15:58:55,010 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 15:58:55,024 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 15:58:58,031 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-04 15:58:58,038 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-04 15:58:58,042 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-04 15:59:01,622 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 21659 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 15:59:01,625 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 15:59:01,646 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 15:59:01,646 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ac06ff6c32816c8048e335beead97e7f1901ed0c, state=null
2023-03-04 15:59:02,038 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 15:59:02,234 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 15:59:02,239 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 15:59:02,240 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 15:59:02,240 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 15:59:02,294 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 15:59:02,295 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 648 ms
2023-03-04 15:59:03,425 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 15:59:03,451 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 15:59:03,458 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 15:59:03,517 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 15:59:03,532 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 15:59:03,534 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 15:59:03,543 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 15:59:03,543 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 15:59:03,543 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 15:59:03,544 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 15:59:03,544 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 15:59:03,544 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 15:59:03,544 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 15:59:03,618 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 15:59:03,619 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 15:59:03,620 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 15:59:03,622 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677934743622 with initial instances count: 4
2023-03-04 15:59:03,623 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 15:59:03,623 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677934743623, current=UP, previous=STARTING]
2023-03-04 15:59:03,624 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 15:59:03,624 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 15:59:03,632 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 15:59:03,633 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 15:59:03,636 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 15:59:03,645 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 15:59:03,664 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#15e8c040:0/SimpleConnection@5036a286 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 55231]
2023-03-04 15:59:03,697 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.713 seconds (JVM running for 4.142)
2023-03-04 15:59:04,094 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 15:59:04,095 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 15:59:04,097 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 2 ms
2023-03-04 15:59:26,090 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-04 16:00:26,701 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: IOException while sending message
2023-03-04 16:00:26,762 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 16:00:26,762 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677934826762, current=DOWN, previous=UP]
2023-03-04 16:00:26,763 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 16:00:26,769 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 16:00:26,769 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 16:00:27,744 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 16:00:27,770 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 16:00:27,781 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 16:00:30,789 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-04 16:00:30,800 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-04 16:00:30,805 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-04 16:00:34,235 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 21838 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-04 16:00:34,239 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-04 16:00:34,268 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-04 16:00:34,269 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ac06ff6c32816c8048e335beead97e7f1901ed0c, state=null
2023-03-04 16:00:34,673 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-04 16:00:34,794 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-04 16:00:34,798 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-04 16:00:34,798 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-04 16:00:34,798 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-04 16:00:34,852 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-04 16:00:34,853 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 583 ms
2023-03-04 16:00:35,473 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-04 16:00:35,500 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-04 16:00:35,507 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-04 16:00:35,559 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-04 16:00:35,575 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-04 16:00:35,578 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-04 16:00:35,588 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-04 16:00:35,588 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-04 16:00:35,588 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-04 16:00:35,588 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-04 16:00:35,588 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-04 16:00:35,588 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-04 16:00:35,589 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-04 16:00:35,652 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-04 16:00:35,653 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-04 16:00:35,655 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-04 16:00:35,657 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677934835656 with initial instances count: 5
2023-03-04 16:00:35,657 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-04 16:00:35,658 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677934835658, current=UP, previous=STARTING]
2023-03-04 16:00:35,658 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 16:00:35,659 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-04 16:00:35,666 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-04 16:00:35,666 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-04 16:00:35,668 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-04 16:00:35,680 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-04 16:00:35,693 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#4403bff8:0/SimpleConnection@44ec4a38 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 55283]
2023-03-04 16:00:35,727 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.026 seconds (JVM running for 3.379)
2023-03-04 16:00:36,236 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-04 16:00:36,237 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-04 16:00:36,238 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2023-03-04 16:00:47,199 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-04 16:00:47,221 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-04 16:01:06,697 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-04 16:01:06,698 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677934866698, current=DOWN, previous=UP]
2023-03-04 16:01:06,698 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-04 16:01:06,703 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": localhost:8761 failed to respond; nested exception is org.apache.http.NoHttpResponseException: localhost:8761 failed to respond stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": localhost:8761 failed to respond; nested exception is org.apache.http.NoHttpResponseException: localhost:8761 failed to respond
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.NoHttpResponseException: localhost:8761 failed to respond
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:141)
	at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)
	at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)
	at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)
	at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157)
	at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)
	at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 22 more

2023-03-04 16:01:06,703 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": localhost:8761 failed to respond; nested exception is org.apache.http.NoHttpResponseException: localhost:8761 failed to respond
2023-03-04 16:01:06,705 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-04 16:01:06,711 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 23 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 36 more

2023-03-04 16:01:06,711 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
2023-03-04 16:01:06,714 WARN com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-04 16:01:06,715 WARN com.netflix.discovery.InstanceInfoReplicator [DiscoveryClient-InstanceInfoReplicator-0] There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-04 16:01:07,298 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-04 16:01:07,309 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-04 16:01:07,315 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-04 16:01:10,323 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-04 16:01:10,334 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [SpringApplicationShutdownHook] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2023-03-04 16:01:10,336 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [SpringApplicationShutdownHook] Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
2023-03-04 16:01:10,337 ERROR com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-04 16:01:10,342 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
