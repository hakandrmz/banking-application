2023-03-05 01:29:38,934 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 31650 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:29:38,940 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:29:38,955 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:29:38,955 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ca03a7d0fec64639212086f516aae71509c3efeb, state=null
2023-03-05 01:29:39,566 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-05 01:29:39,779 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8087 (http)
2023-03-05 01:29:39,784 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8087"]
2023-03-05 01:29:39,786 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:29:39,786 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:29:39,865 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:29:39,866 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 910 ms
2023-03-05 01:29:40,748 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:29:40,782 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:29:40,792 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-05 01:29:40,855 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:29:40,873 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:29:40,875 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:29:40,887 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:29:40,887 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:29:40,888 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:29:40,888 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:29:40,888 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:29:40,888 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:29:40,888 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:29:40,964 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:29:40,966 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:29:40,969 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:29:40,971 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677968980971 with initial instances count: 1
2023-03-05 01:29:40,972 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:29:40,972 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677968980972, current=UP, previous=STARTING]
2023-03-05 01:29:40,973 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087: registering service...
2023-03-05 01:29:40,974 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8087"]
2023-03-05 01:29:40,982 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8087 (http) with context path ''
2023-03-05 01:29:40,983 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8087
2023-03-05 01:29:40,986 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:29:41,011 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - registration status: 204
2023-03-05 01:29:41,030 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#7c421952:0/SimpleConnection@95f1422 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53622]
2023-03-05 01:29:41,091 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.625 seconds (JVM running for 3.964)
2023-03-05 01:29:41,100 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,132 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,134 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,136 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,137 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,138 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,141 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,143 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,144 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,146 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,147 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,149 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,149 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,151 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,151 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,152 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,153 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,154 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,155 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,156 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,156 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,157 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,157 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,159 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,160 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,162 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,162 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,164 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,164 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,165 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,166 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,167 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,168 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:29:41,169 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:29:41,458 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:29:41,458 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(6)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:29:41,460 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(6)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:29:41,550 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 31655 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:29:41,577 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:29:41,596 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:29:41,596 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ca03a7d0fec64639212086f516aae71509c3efeb, state=null
2023-03-05 01:29:42,103 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-05 01:29:42,231 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-05 01:29:42,235 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-05 01:29:42,236 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:29:42,236 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:29:42,281 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:29:42,281 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 684 ms
2023-03-05 01:29:42,951 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:29:42,976 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:29:42,983 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-05 01:29:43,039 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:29:43,054 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:29:43,056 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:29:43,066 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:29:43,066 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:29:43,066 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:29:43,067 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:29:43,067 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:29:43,067 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:29:43,067 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:29:43,130 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:29:43,131 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:29:43,136 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:29:43,138 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677968983138 with initial instances count: 1
2023-03-05 01:29:43,139 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:29:43,139 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677968983139, current=UP, previous=STARTING]
2023-03-05 01:29:43,140 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:29:43,140 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-05 01:29:43,147 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-05 01:29:43,148 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-05 01:29:43,150 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:29:43,157 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:29:43,174 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#c6a692e:0/SimpleConnection@790d629a [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53664]
2023-03-05 01:29:43,210 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.173 seconds (JVM running for 3.796)
2023-03-05 01:29:43,323 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:29:43,324 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:29:43,325 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:29:45,818 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 31668 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:29:45,827 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:29:45,847 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:29:45,848 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ca03a7d0fec64639212086f516aae71509c3efeb, state=null
2023-03-05 01:29:46,362 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-05 01:29:46,509 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-03-05 01:29:46,514 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-03-05 01:29:46,514 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:29:46,514 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:29:46,564 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:29:46,564 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 715 ms
2023-03-05 01:29:47,354 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:29:47,381 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:29:47,393 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-05 01:29:47,498 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:29:47,519 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:29:47,522 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:29:47,539 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:29:47,540 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:29:47,540 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:29:47,541 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:29:47,541 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:29:47,541 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:29:47,541 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:29:47,622 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:29:47,624 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:29:47,625 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:29:47,627 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677968987627 with initial instances count: 1
2023-03-05 01:29:47,628 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:29:47,628 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677968987628, current=UP, previous=STARTING]
2023-03-05 01:29:47,629 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8088: registering service...
2023-03-05 01:29:47,630 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8088"]
2023-03-05 01:29:47,631 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8088 is already in use
2023-03-05 01:29:47,636 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2023-03-05 01:29:47,647 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8088 - registration status: 204
2023-03-05 01:29:47,648 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2023-03-05 01:29:47,654 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8088 - deregister  status: 200
2023-03-05 01:29:47,656 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2023-03-05 01:29:47,657 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-8088"]
2023-03-05 01:29:47,658 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2023-03-05 01:29:47,661 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-8088"]
2023-03-05 01:29:47,662 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-8088"]
2023-03-05 01:29:47,674 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-03-05 01:29:47,683 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8088 was already in use.

Action:

Identify and stop the process that's listening on port 8088 or configure this application to listen on another port.

2023-03-05 01:30:05,906 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 31724 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:30:05,911 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:30:05,927 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:30:05,927 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ca03a7d0fec64639212086f516aae71509c3efeb, state=null
2023-03-05 01:30:06,318 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-05 01:30:06,445 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2023-03-05 01:30:06,450 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2023-03-05 01:30:06,450 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:30:06,450 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:30:06,497 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:30:06,497 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 569 ms
2023-03-05 01:30:07,099 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:30:07,123 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:30:07,129 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-05 01:30:07,182 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:30:07,198 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:30:07,201 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:30:07,209 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:30:07,210 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:30:07,210 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:30:07,210 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:30:07,210 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:30:07,210 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:30:07,210 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:30:07,277 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:30:07,279 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:30:07,280 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:30:07,282 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969007281 with initial instances count: 5
2023-03-05 01:30:07,282 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:30:07,282 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969007282, current=UP, previous=STARTING]
2023-03-05 01:30:07,283 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089: registering service...
2023-03-05 01:30:07,283 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2023-03-05 01:30:07,290 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8089 (http) with context path ''
2023-03-05 01:30:07,290 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8089
2023-03-05 01:30:07,292 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:30:07,300 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - registration status: 204
2023-03-05 01:30:07,314 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#17d2b646:0/SimpleConnection@790d629a [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53732]
2023-03-05 01:30:07,354 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 2.933 seconds (JVM running for 3.363)
2023-03-05 01:30:07,455 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:30:07,455 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:30:07,457 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:31:22,481 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:31:22,482 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969082482, current=DOWN, previous=UP]
2023-03-05 01:31:22,482 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:31:22,487 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:31:22,493 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:31:22,512 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:31:22,513 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969082513, current=DOWN, previous=UP]
2023-03-05 01:31:22,513 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087: registering service...
2023-03-05 01:31:22,518 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - registration status: 204
2023-03-05 01:31:22,519 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:31:22,542 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:31:22,544 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969082544, current=DOWN, previous=UP]
2023-03-05 01:31:22,545 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089: registering service...
2023-03-05 01:31:22,551 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - registration status: 204
2023-03-05 01:31:22,559 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:31:22,560 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:31:22,560 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:31:22,576 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:31:22,576 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:31:22,581 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:31:22,582 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:31:22,613 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:31:22,621 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:31:22,627 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:31:25,591 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:31:25,591 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:31:25,606 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - deregister  status: 200
2023-03-05 01:31:25,607 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-05 01:31:25,614 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:31:25,614 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:31:25,631 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:31:25,639 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - deregister  status: 200
2023-03-05 01:31:25,643 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:33:35,194 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32115 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:33:35,201 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:33:35,222 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:33:35,222 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ca03a7d0fec64639212086f516aae71509c3efeb, state=null
2023-03-05 01:33:35,617 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-05 01:33:35,735 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-05 01:33:35,739 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-05 01:33:35,740 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:33:35,740 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:33:35,789 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:33:35,790 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 567 ms
2023-03-05 01:33:36,273 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32118 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:33:36,280 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:33:36,296 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:33:36,297 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ca03a7d0fec64639212086f516aae71509c3efeb, state=null
2023-03-05 01:33:36,432 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:33:36,457 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:33:36,464 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-05 01:33:36,521 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:33:36,537 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:33:36,540 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:33:36,551 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:33:36,551 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:33:36,551 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:33:36,551 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:33:36,552 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:33:36,552 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:33:36,552 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:33:36,623 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:33:36,624 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:33:36,625 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:33:36,627 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969216627 with initial instances count: 3
2023-03-05 01:33:36,628 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:33:36,628 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969216628, current=UP, previous=STARTING]
2023-03-05 01:33:36,629 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:33:36,629 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-05 01:33:36,637 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-05 01:33:36,638 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-05 01:33:36,640 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:33:36,650 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:33:36,661 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#7c421952:0/SimpleConnection@1b5d1d9 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53925]
2023-03-05 01:33:36,742 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-05 01:33:36,883 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8087 (http)
2023-03-05 01:33:36,887 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8087"]
2023-03-05 01:33:36,887 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:33:36,888 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:33:36,940 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:33:36,941 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 643 ms
2023-03-05 01:33:37,448 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32121 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:33:37,459 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:33:37,474 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:33:37,475 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=ca03a7d0fec64639212086f516aae71509c3efeb, state=null
2023-03-05 01:33:37,602 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:33:37,629 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:33:37,635 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-05 01:33:37,693 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:33:37,709 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:33:37,712 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:33:37,723 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:33:37,723 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:33:37,724 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:33:37,724 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:33:37,724 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:33:37,724 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:33:37,724 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:33:37,791 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:33:37,793 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:33:37,794 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:33:37,796 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969217796 with initial instances count: 3
2023-03-05 01:33:37,797 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:33:37,797 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969217797, current=UP, previous=STARTING]
2023-03-05 01:33:37,798 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087: registering service...
2023-03-05 01:33:37,798 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8087"]
2023-03-05 01:33:37,805 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8087 (http) with context path ''
2023-03-05 01:33:37,806 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8087
2023-03-05 01:33:37,808 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:33:37,815 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - registration status: 204
2023-03-05 01:33:37,828 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#12214f2f:0/SimpleConnection@5e83298e [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53930]
2023-03-05 01:33:37,862 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.573 seconds (JVM running for 4.138)
2023-03-05 01:33:37,880 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=136475cc-01c2-324a-bc60-b30e1a469b9b
2023-03-05 01:33:37,996 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:33:37,997 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:33:37,998 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:33:38,012 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2023-03-05 01:33:38,017 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2023-03-05 01:33:38,017 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:33:38,017 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:33:38,064 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:33:38,065 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 589 ms
2023-03-05 01:33:38,710 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:33:38,733 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:33:38,739 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 17 endpoint(s) beneath base path '/actuator'
2023-03-05 01:33:38,798 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:33:38,813 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:33:38,815 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:33:38,824 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:33:38,824 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:33:38,824 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:33:38,824 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:33:38,825 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:33:38,825 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:33:38,825 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:33:38,887 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:33:38,888 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:33:38,889 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:33:38,891 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969218891 with initial instances count: 3
2023-03-05 01:33:38,892 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:33:38,892 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969218892, current=UP, previous=STARTING]
2023-03-05 01:33:38,893 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089: registering service...
2023-03-05 01:33:38,893 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2023-03-05 01:33:38,900 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8089 (http) with context path ''
2023-03-05 01:33:38,900 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8089
2023-03-05 01:33:38,902 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:33:38,909 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - registration status: 204
2023-03-05 01:33:38,923 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#12214f2f:0/SimpleConnection@5e83298e [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53935]
2023-03-05 01:33:38,958 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.92 seconds (JVM running for 4.24)
2023-03-05 01:33:39,460 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:33:39,461 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:33:39,462 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:34:38,131 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:38,155 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 64.573 seconds (JVM running for 64.953)
2023-03-05 01:34:38,165 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:40,590 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:40,593 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:41,738 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:41,743 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:51,698 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:51,704 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:52,317 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:52,321 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:53,457 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:53,463 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:53,889 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:53,891 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:34:53,891 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:34:53,892 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:53,893 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Completed initialization in 2 ms
2023-03-05 01:34:54,150 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:54,154 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:54,598 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:54,604 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:55,008 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:55,013 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:55,279 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:55,286 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:55,824 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:55,828 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:56,313 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:56,317 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:56,723 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:56,726 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:34:57,500 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:34:57,504 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:38:05,553 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:38:05,554 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969485554, current=DOWN, previous=UP]
2023-03-05 01:38:05,556 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:38:05,562 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:38:05,567 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:38:05,590 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:38:05,591 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969485591, current=DOWN, previous=UP]
2023-03-05 01:38:05,592 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087: registering service...
2023-03-05 01:38:05,597 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - registration status: 204
2023-03-05 01:38:05,599 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:38:05,622 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:38:05,624 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969485624, current=DOWN, previous=UP]
2023-03-05 01:38:05,625 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089: registering service...
2023-03-05 01:38:05,631 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - registration status: 204
2023-03-05 01:38:05,632 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:38:05,825 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:38:05,848 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:38:05,858 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:38:05,869 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:38:05,886 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:38:05,900 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:38:06,159 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:38:06,170 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:38:06,177 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:38:08,865 WARN com.netflix.discovery.TimedSupervisorTask [DiscoveryClient-0] task supervisor shutting down, can't accept the task
2023-03-05 01:38:08,867 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:38:08,877 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - deregister  status: 200
2023-03-05 01:38:08,882 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:38:08,919 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:38:08,928 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - deregister  status: 200
2023-03-05 01:38:08,932 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:38:09,187 WARN com.netflix.discovery.TimedSupervisorTask [DiscoveryClient-0] task supervisor shutting down, can't accept the task
2023-03-05 01:38:09,194 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:38:09,202 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-05 01:38:09,207 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:38:13,480 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32652 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:38:13,483 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:38:13,496 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:38:13,497 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 01:38:13,927 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 01:38:14,147 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8087 (http)
2023-03-05 01:38:14,155 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8087"]
2023-03-05 01:38:14,155 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:38:14,156 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:38:14,205 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:38:14,206 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 709 ms
2023-03-05 01:38:14,830 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32661 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:38:14,833 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:38:14,846 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:38:14,846 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 01:38:15,216 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:38:15,275 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:38:15,307 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 01:38:15,322 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 01:38:15,373 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:38:15,390 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:38:15,393 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:38:15,403 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:38:15,403 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:38:15,404 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:38:15,404 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:38:15,404 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:38:15,404 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:38:15,404 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:38:15,469 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:38:15,471 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:38:15,472 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:38:15,473 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969495473 with initial instances count: 6
2023-03-05 01:38:15,477 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:38:15,478 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969495478, current=UP, previous=STARTING]
2023-03-05 01:38:15,478 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087: registering service...
2023-03-05 01:38:15,479 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8087"]
2023-03-05 01:38:15,485 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8087 (http) with context path ''
2023-03-05 01:38:15,486 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8087
2023-03-05 01:38:15,488 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:38:15,504 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - registration status: 204
2023-03-05 01:38:15,521 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#6614ecca:0/SimpleConnection@2f6f2d91 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54118]
2023-03-05 01:38:15,565 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 4.066 seconds (JVM running for 4.52)
2023-03-05 01:38:15,591 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-05 01:38:15,594 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-05 01:38:15,595 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:38:15,595 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:38:15,643 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:38:15,643 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 796 ms
2023-03-05 01:38:15,976 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:38:15,976 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:38:15,977 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:38:15,977 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32657 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:38:15,981 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:38:16,000 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:38:16,003 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 01:38:16,546 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 01:38:16,803 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:38:16,846 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2023-03-05 01:38:16,850 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2023-03-05 01:38:16,851 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:38:16,851 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:38:16,867 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:38:16,902 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 01:38:16,911 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:38:16,911 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 907 ms
2023-03-05 01:38:16,980 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:38:16,994 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:38:16,996 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:38:17,005 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:38:17,005 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:38:17,006 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:38:17,006 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:38:17,006 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:38:17,006 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:38:17,006 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:38:17,071 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:38:17,073 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:38:17,074 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:38:17,076 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969497075 with initial instances count: 6
2023-03-05 01:38:17,080 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:38:17,080 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969497080, current=UP, previous=STARTING]
2023-03-05 01:38:17,080 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:38:17,081 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-05 01:38:17,091 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-05 01:38:17,092 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-05 01:38:17,094 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:38:17,099 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:38:17,117 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#111cbcda:0/SimpleConnection@3dceec83 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54131]
2023-03-05 01:38:17,154 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 4.338 seconds (JVM running for 4.61)
2023-03-05 01:38:17,253 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:38:17,254 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:38:17,255 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:38:18,012 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:38:18,069 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:38:18,097 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 01:38:18,154 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:38:18,168 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:38:18,170 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:38:18,178 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:38:18,178 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:38:18,179 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:38:18,179 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:38:18,179 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:38:18,179 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:38:18,179 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:38:18,250 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:38:18,251 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:38:18,252 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:38:18,254 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969498254 with initial instances count: 6
2023-03-05 01:38:18,259 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:38:18,259 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969498259, current=UP, previous=STARTING]
2023-03-05 01:38:18,260 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089: registering service...
2023-03-05 01:38:18,261 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2023-03-05 01:38:18,268 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8089 (http) with context path ''
2023-03-05 01:38:18,268 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8089
2023-03-05 01:38:18,270 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:38:18,275 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - registration status: 204
2023-03-05 01:38:18,292 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#6651efa4:0/SimpleConnection@2a8081f5 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54138]
2023-03-05 01:38:18,328 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 6.283 seconds (JVM running for 6.622)
2023-03-05 01:38:18,504 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:38:18,504 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:38:18,506 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 2 ms
2023-03-05 01:38:47,547 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:38:47,564 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:38:54,223 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:38:54,240 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:38:55,552 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:38:55,568 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:30,240 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:30,248 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:31,782 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:31,793 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:34,006 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:34,015 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:35,551 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:35,555 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:36,755 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:36,771 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:40,952 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:40,957 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:42,345 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:42,349 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:54,272 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:54,278 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:39:58,987 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:39:59,001 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:40:03,012 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:40:03,021 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:40:37,811 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 01:40:37,816 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:40:37,817 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969637817, current=DOWN, previous=UP]
2023-03-05 01:40:37,817 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:40:37,827 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:40:37,840 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:40:37,859 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 01:40:37,864 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:40:37,864 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969637864, current=DOWN, previous=UP]
2023-03-05 01:40:37,865 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087: registering service...
2023-03-05 01:40:37,869 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - registration status: 204
2023-03-05 01:40:37,872 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:40:37,888 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 01:40:37,894 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:40:37,895 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969637895, current=DOWN, previous=UP]
2023-03-05 01:40:37,897 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089: registering service...
2023-03-05 01:40:37,907 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - registration status: 204
2023-03-05 01:40:37,914 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:40:38,156 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:40:38,165 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:40:38,195 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:40:38,198 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:40:38,443 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:40:38,454 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:40:38,627 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:40:38,969 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:40:38,995 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:40:41,636 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:40:41,647 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-05 01:40:41,652 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:40:41,975 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:40:41,982 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - deregister  status: 200
2023-03-05 01:40:41,986 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:40:42,001 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:40:42,006 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - deregister  status: 200
2023-03-05 01:40:42,010 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:40:45,428 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32940 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:40:45,431 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:40:45,446 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:40:45,446 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 01:40:45,933 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 01:40:46,161 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-05 01:40:46,164 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-05 01:40:46,165 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:40:46,165 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:40:46,216 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:40:46,216 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 769 ms
2023-03-05 01:40:46,482 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32949 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:40:46,485 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:40:46,499 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:40:46,500 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 01:40:46,968 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 01:40:47,272 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8087 (http)
2023-03-05 01:40:47,276 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8087"]
2023-03-05 01:40:47,276 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:40:47,277 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:40:47,342 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:40:47,342 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 841 ms
2023-03-05 01:40:47,380 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:40:47,451 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:40:47,487 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 01:40:47,573 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:40:47,579 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 32944 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:40:47,584 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:40:47,592 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:40:47,595 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:40:47,601 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:40:47,601 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 01:40:47,607 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:40:47,608 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:40:47,608 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:40:47,608 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:40:47,608 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:40:47,609 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:40:47,616 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:40:47,706 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:40:47,708 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:40:47,709 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:40:47,711 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969647711 with initial instances count: 6
2023-03-05 01:40:47,717 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:40:47,717 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969647717, current=UP, previous=STARTING]
2023-03-05 01:40:47,718 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:40:47,718 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-05 01:40:47,728 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-05 01:40:47,728 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-05 01:40:47,732 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:40:47,741 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:40:47,762 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#65a80fdb:0/SimpleConnection@2f6f2d91 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54257]
2023-03-05 01:40:47,806 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:40:47,810 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 4.095 seconds (JVM running for 4.747)
2023-03-05 01:40:48,033 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:40:48,034 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:40:48,035 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:40:48,120 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 01:40:48,463 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2023-03-05 01:40:48,467 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2023-03-05 01:40:48,467 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:40:48,468 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:40:48,526 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:40:48,526 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 924 ms
2023-03-05 01:40:48,568 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:40:48,640 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:40:48,671 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 01:40:48,741 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:40:48,756 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:40:48,759 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:40:48,768 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:40:48,768 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:40:48,768 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:40:48,769 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:40:48,769 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:40:48,769 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:40:48,769 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:40:48,844 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:40:48,846 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:40:48,852 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:40:48,857 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969648856 with initial instances count: 6
2023-03-05 01:40:48,862 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:40:48,862 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969648862, current=UP, previous=STARTING]
2023-03-05 01:40:48,863 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087: registering service...
2023-03-05 01:40:48,864 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8087"]
2023-03-05 01:40:48,875 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8087 (http) with context path ''
2023-03-05 01:40:48,876 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8087
2023-03-05 01:40:48,878 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:40:48,885 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - registration status: 204
2023-03-05 01:40:48,905 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#6614ecca:0/SimpleConnection@3ce067bd [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54265]
2023-03-05 01:40:48,949 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 4.133 seconds (JVM running for 4.407)
2023-03-05 01:40:49,280 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:40:49,280 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:40:49,281 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:40:49,313 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: IOException while sending message
2023-03-05 01:40:49,315 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:40:49,673 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:40:49,732 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:40:49,763 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 01:40:49,823 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:40:49,839 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:40:49,842 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:40:49,851 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:40:49,852 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:40:49,852 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:40:49,852 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:40:49,852 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:40:49,852 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:40:49,853 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:40:49,915 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:40:49,916 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:40:49,918 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:40:49,919 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969649919 with initial instances count: 6
2023-03-05 01:40:49,923 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:40:49,923 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969649923, current=UP, previous=STARTING]
2023-03-05 01:40:49,924 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089: registering service...
2023-03-05 01:40:49,924 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2023-03-05 01:40:49,931 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8089 (http) with context path ''
2023-03-05 01:40:49,931 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8089
2023-03-05 01:40:49,934 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:40:49,940 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - registration status: 204
2023-03-05 01:40:49,958 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#6614ecca:0/SimpleConnection@2a8081f5 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54276]
2023-03-05 01:40:50,000 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 5.791 seconds (JVM running for 6.114)
2023-03-05 01:40:50,157 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:40:50,157 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(7)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:40:50,159 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(7)-127.0.0.1] Completed initialization in 2 ms
2023-03-05 01:40:50,490 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: IOException while sending message
2023-03-05 01:40:50,495 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:40:51,500 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:40:51,536 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: IOException while sending message
2023-03-05 01:40:52,621 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: IOException while sending message
2023-03-05 01:40:52,849 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:40:53,989 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: IOException while sending message
2023-03-05 01:43:46,066 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 01:43:46,070 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:43:46,071 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969826071, current=DOWN, previous=UP]
2023-03-05 01:43:46,071 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:43:46,087 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:43:46,093 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:43:46,114 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 01:43:46,125 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:43:46,126 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969826126, current=DOWN, previous=UP]
2023-03-05 01:43:46,127 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087: registering service...
2023-03-05 01:43:46,133 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - registration status: 204
2023-03-05 01:43:46,135 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:43:46,147 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 01:43:46,152 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:43:46,153 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969826153, current=DOWN, previous=UP]
2023-03-05 01:43:46,153 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089: registering service...
2023-03-05 01:43:46,164 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - registration status: 204
2023-03-05 01:43:46,166 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:43:46,233 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:43:46,248 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:43:46,570 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:43:46,583 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:43:46,636 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:43:46,649 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:43:47,088 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:43:47,466 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:43:47,672 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:43:50,090 WARN com.netflix.discovery.TimedSupervisorTask [DiscoveryClient-0] task supervisor shutting down, can't accept the task
2023-03-05 01:43:50,091 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:43:50,096 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8087 - deregister  status: 200
2023-03-05 01:43:50,101 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:43:50,473 WARN com.netflix.discovery.TimedSupervisorTask [DiscoveryClient-0] task supervisor shutting down, can't accept the task
2023-03-05 01:43:50,475 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:43:50,481 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-05 01:43:50,486 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:43:50,679 WARN com.netflix.discovery.TimedSupervisorTask [DiscoveryClient-0] task supervisor shutting down, can't accept the task
2023-03-05 01:43:50,680 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:43:50,683 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8089 - deregister  status: 200
2023-03-05 01:43:50,686 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:43:56,173 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 33309 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:43:56,176 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:43:56,189 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:43:56,190 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 01:43:56,633 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 01:43:56,857 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-05 01:43:56,861 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-05 01:43:56,861 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:43:56,862 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:43:56,911 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:43:56,912 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 721 ms
2023-03-05 01:43:57,900 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:43:57,963 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:43:57,989 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 01:43:58,044 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:43:58,058 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:43:58,060 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:43:58,069 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:43:58,069 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:43:58,069 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:43:58,069 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:43:58,070 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:43:58,070 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:43:58,070 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:43:58,127 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:43:58,128 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:43:58,129 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:43:58,131 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969838131 with initial instances count: 6
2023-03-05 01:43:58,135 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:43:58,135 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969838135, current=UP, previous=STARTING]
2023-03-05 01:43:58,136 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:43:58,136 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-05 01:43:58,142 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-05 01:43:58,143 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-05 01:43:58,145 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:43:58,150 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:43:58,167 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#4db568e1:0/SimpleConnection@20a434a8 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54352]
2023-03-05 01:43:58,206 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.623 seconds (JVM running for 4.103)
2023-03-05 01:43:58,338 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:43:58,338 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:43:58,340 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(2)-127.0.0.1] Completed initialization in 1 ms
2023-03-05 01:44:05,307 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:44:05,320 ERROR tech.hdurmaz.mailservice.service.EmailServiceImpl [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] An error occurred while sending email. Exception: In Content-Type string <content>, expected '/', got null
2023-03-05 01:45:33,225 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 01:45:33,229 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:45:33,230 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677969933230, current=DOWN, previous=UP]
2023-03-05 01:45:33,230 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:45:33,235 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:45:33,240 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:45:33,626 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:45:33,638 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:45:34,627 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:45:37,636 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:45:37,646 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - deregister  status: 200
2023-03-05 01:45:37,651 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 01:45:40,957 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 33514 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 01:45:40,960 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 01:45:40,973 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 01:45:40,974 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 01:45:41,540 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 01:45:41,837 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-05 01:45:41,841 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-05 01:45:41,841 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 01:45:41,841 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 01:45:41,898 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 01:45:41,898 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 924 ms
2023-03-05 01:45:42,917 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 01:45:42,970 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 01:45:42,996 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 01:45:43,049 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 01:45:43,063 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 01:45:43,066 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 01:45:43,075 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 01:45:43,075 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 01:45:43,075 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 01:45:43,075 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 01:45:43,075 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 01:45:43,075 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 01:45:43,076 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 01:45:43,134 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 01:45:43,136 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 01:45:43,137 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 01:45:43,138 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1677969943138 with initial instances count: 4
2023-03-05 01:45:43,142 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 01:45:43,143 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1677969943143, current=UP, previous=STARTING]
2023-03-05 01:45:43,143 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:45:43,144 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-05 01:45:43,150 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-05 01:45:43,151 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-05 01:45:43,153 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 01:45:43,160 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 01:45:43,185 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#65a80fdb:0/SimpleConnection@2a8081f5 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 54393]
2023-03-05 01:45:43,229 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.888 seconds (JVM running for 4.216)
2023-03-05 01:45:43,396 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 01:45:43,396 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 01:45:43,398 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 2 ms
2023-03-05 01:45:45,144 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 01:47:47,886 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 01:47:47,889 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 01:47:47,890 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1677970067890, current=DOWN, previous=UP]
2023-03-05 01:47:47,891 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 01:47:47,897 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 21 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 34 more

2023-03-05 01:47:47,898 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
2023-03-05 01:47:47,900 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 01:47:47,906 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 22 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2023-03-05 01:47:47,907 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
2023-03-05 01:47:47,908 WARN com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-05 01:47:47,908 WARN com.netflix.discovery.InstanceInfoReplicator [DiscoveryClient-InstanceInfoReplicator-0] There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-05 01:47:48,386 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 01:47:48,398 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 01:47:48,559 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 01:47:51,568 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 01:47:51,580 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [SpringApplicationShutdownHook] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2023-03-05 01:47:51,582 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [SpringApplicationShutdownHook] Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
2023-03-05 01:47:51,583 ERROR com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-05 01:47:51,590 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2023-03-05 22:27:01,082 INFO org.springframework.boot.StartupInfoLogger [main] Starting MailServiceApplication using Java 17.0.6 on hdurmaz.local with PID 22569 (/Users/hdurmaz/IdeaProjects/banking-application-credit-service/mail-service/target/classes started by hdurmaz in /Users/hdurmaz/IdeaProjects/banking-application-credit-service)
2023-03-05 22:27:01,085 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-03-05 22:27:01,099 INFO org.springframework.boot.logging.DeferredLog [main] Fetching config from server at : http://localhost:8088
2023-03-05 22:27:01,100 INFO org.springframework.boot.logging.DeferredLog [main] Located environment: name=mail-service, profiles=[default], label=null, version=8b08991a4d27174cc90f4748dfd88e10ace8fda6, state=null
2023-03-05 22:27:01,569 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=508e518d-f88b-33f3-af3e-6d0a330b4525
2023-03-05 22:27:01,834 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8084 (http)
2023-03-05 22:27:01,837 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8084"]
2023-03-05 22:27:01,838 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2023-03-05 22:27:01,838 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-03-05 22:27:01,892 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-03-05 22:27:01,892 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 792 ms
2023-03-05 22:27:02,947 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2023-03-05 22:27:03,000 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-03-05 22:27:03,034 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 18 endpoint(s) beneath base path '/actuator'
2023-03-05 22:27:03,097 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2023-03-05 22:27:03,113 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2023-03-05 22:27:03,116 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2023-03-05 22:27:03,124 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2023-03-05 22:27:03,125 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2023-03-05 22:27:03,125 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2023-03-05 22:27:03,125 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2023-03-05 22:27:03,125 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2023-03-05 22:27:03,125 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2023-03-05 22:27:03,125 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2023-03-05 22:27:03,182 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2023-03-05 22:27:03,184 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2023-03-05 22:27:03,185 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-03-05 22:27:03,187 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1678044423186 with initial instances count: 1
2023-03-05 22:27:03,190 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application MAIL-SERVICE with eureka with status UP
2023-03-05 22:27:03,191 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1678044423191, current=UP, previous=STARTING]
2023-03-05 22:27:03,192 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 22:27:03,192 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8084"]
2023-03-05 22:27:03,198 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8084 (http) with context path ''
2023-03-05 22:27:03,198 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8084
2023-03-05 22:27:03,200 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Attempting to connect to: [localhost:5672]
2023-03-05 22:27:03,207 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration status: 204
2023-03-05 22:27:03,218 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [main] Created new connection: rabbitConnectionFactory#65a80fdb:0/SimpleConnection@3ce067bd [delegate=amqp://guest@127.0.0.1:5672/, localPort= 51230]
2023-03-05 22:27:03,249 INFO org.springframework.boot.StartupInfoLogger [main] Started MailServiceApplication in 3.569 seconds (JVM running for 3.948)
2023-03-05 22:27:03,562 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-05 22:27:03,562 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2023-03-05 22:27:03,565 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 2 ms
2023-03-05 22:32:03,133 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-05 22:37:03,139 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-05 22:38:04,830 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 22:39:34,303 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 22:42:03,150 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-05 22:47:03,160 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-05 22:48:35,917 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 22:48:40,715 INFO tech.hdurmaz.mailservice.config.rabbitmq.UserRegistrationConsumer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] Consumed CustomerRegistrationMail[to=durmazhakan@icloud.com] from queue.
2023-03-05 22:52:03,168 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-05 22:57:03,179 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2023-03-05 22:57:44,562 INFO org.springframework.cloud.sleuth.autoconfig.zipkin2.ZipkinAutoConfiguration$1 [Thread-2] Flushing remaining spans on shutdown
2023-03-05 22:57:44,564 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application MAIL-SERVICE with eureka with status DOWN
2023-03-05 22:57:44,565 INFO com.netflix.discovery.DiscoveryClient$3 [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1678046264565, current=DOWN, previous=UP]
2023-03-05 22:57:44,565 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084: registering service...
2023-03-05 22:57:44,570 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Waiting for workers to finish.
2023-03-05 22:57:44,570 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 21 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 34 more

2023-03-05 22:57:44,571 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
2023-03-05 22:57:44,574 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 22 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2023-03-05 22:57:44,575 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [DiscoveryClient-InstanceInfoReplicator-0] Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/MAIL-SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
2023-03-05 22:57:44,576 WARN com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-05 22:57:44,576 WARN com.netflix.discovery.InstanceInfoReplicator [DiscoveryClient-InstanceInfoReplicator-0] There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-05 22:57:45,404 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] Successfully waited for workers to finish.
2023-03-05 22:57:45,415 INFO org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer [SpringApplicationShutdownHook] Shutdown ignored - container is already stopped
2023-03-05 22:57:45,951 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2023-03-05 22:57:48,956 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2023-03-05 22:57:48,960 INFO com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient [SpringApplicationShutdownHook] Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2023-03-05 22:57:48,961 WARN com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient [SpringApplicationShutdownHook] Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/MAIL-SERVICE/192.168.1.39:mail-service:8084": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused
2023-03-05 22:57:48,962 ERROR com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_MAIL-SERVICE/192.168.1.39:mail-service:8084 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-03-05 22:57:48,967 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
